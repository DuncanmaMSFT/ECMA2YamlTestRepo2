### YamlMime:ManagedReference
items:
- uid: System.Threading.SemaphoreSlim
  id: SemaphoreSlim
  children:
  - System.Threading.SemaphoreSlim.#ctor(System.Int32)
  - System.Threading.SemaphoreSlim.#ctor(System.Int32,System.Int32)
  - System.Threading.SemaphoreSlim.AvailableWaitHandle
  - System.Threading.SemaphoreSlim.CurrentCount
  - System.Threading.SemaphoreSlim.Dispose
  - System.Threading.SemaphoreSlim.Dispose(System.Boolean)
  - System.Threading.SemaphoreSlim.Release
  - System.Threading.SemaphoreSlim.Release(System.Int32)
  - System.Threading.SemaphoreSlim.Wait
  - System.Threading.SemaphoreSlim.Wait(System.Int32)
  - System.Threading.SemaphoreSlim.Wait(System.Threading.CancellationToken)
  - System.Threading.SemaphoreSlim.Wait(System.TimeSpan)
  - System.Threading.SemaphoreSlim.Wait(System.Int32,System.Threading.CancellationToken)
  - System.Threading.SemaphoreSlim.Wait(System.TimeSpan,System.Threading.CancellationToken)
  langs:
  - csharp
  name: SemaphoreSlim
  nameWithType: SemaphoreSlim
  fullName: System.Threading.SemaphoreSlim
  type: Class
  summary: Represents a lightweight alternative to <xref href="System.Threading.Semaphore"></xref> that limits the number of threads that can access a resource or pool of resources concurrently.
  remarks: "Semaphores are of two types: local semaphores and named system semaphores. The former is local to an app. The latter is visible throughout the operating system and is suitable for inter-process synchronization. The SemaphoreSlim is a lightweight alternative to the <xref:System.Threading.Semaphore> class that doesn't use Windows kernel semaphores. Unlike the <xref:System.Threading.Semaphore> class, the SemaphoreSlim class doesn’t support named system semaphores. You can use it as a local semaphore only. The SemaphoreSlim class is the recommended semaphore for synchronization within a single app.  \n  \n A lightweight semaphore controls access to a pool of resources that is local to your application. When you instantiate a semaphore, you can specify the maximum number of threads that can enter the semaphore concurrently. You also specify the initial number of threads that can enter the semaphore concurrently. This defines the semaphore's count.  \n  \n The count is decremented each time a thread enters the semaphore, and incremented each time a thread releases the semaphore. To enter the semaphore, a thread calls one of the <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> overloads. To release the semaphore, it calls one of the <xref:System.Threading.SemaphoreSlim.Release%2A> overloads. When the count reaches zero, subsequent calls to one of the `Wait` methods block until other threads release the semaphore. If multiple threads are blocked, there is no guaranteed order, such as FIFO or LIFO, that controls when threads enter the semaphore.  \n  \n The basic structure for code that uses a semaphore to protect resources is:  \n  \n```  \n  \n' Enter semaphore by calling one of the Wait or WaitAsync methods.  \nSemaphoreSlim.Wait()  \n'   \n' Execute code protected by the semaphore.   \n'  \nSemaphoreSlim.Release()  \n  \n```  \n  \n When all threads have released the semaphore, the count is at the maximum value specified when the semaphore was created. The semaphore's count is available from the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property.  \n  \n> [!IMPORTANT]\n>  The SemaphoreSlim class doesn’t enforce thread or task identity on calls to the <xref:System.Threading.SemaphoreSlim.Wait%2A>, <xref:System.Threading.SemaphoreSlim.WaitAsync%2A>, and <xref:System.Threading.SemaphoreSlim.Release%2A> methods. In addition, if the <xref:System.Threading.SemaphoreSlim.%23ctor%28System.Int32%29> constructor is used to instantiate the SemaphoreSlim object, the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property can increase beyond the value set by the constructor. It is the programmer's responsibility to ensure that calls to <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> methods are appropriately paired with calls to <xref:System.Threading.SemaphoreSlim.Release%2A> methods."
  example:
  - "The following example creates a semaphore with a maximum count of three threads and an initial count of zero threads. The example starts five tasks, all of which block waiting for the semaphore. The main thread calls the <xref:System.Threading.SemaphoreSlim.Release%28System.Int32%29> overload to increase the semaphore count to its maximum, which allows three tasks to enter the semaphore. Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread to make the output easier to read.  \n  \n [!code-vb[System.Threading.SemaphoreSlim#1](~/add/codesnippet/visualbasic/t-system.threading.semap_1.vb)]\n [!code-cs[System.Threading.SemaphoreSlim#1](~/add/codesnippet/csharp/t-system.threading.semap_1.cs)]"
  syntax:
    content: >-
      [System.Diagnostics.DebuggerDisplay("Current Count = {m_currentCount}")]

      [System.Runtime.InteropServices.ComVisible(false)]

      public class SemaphoreSlim : IDisposable
  inheritance:
  - System.Object
  implements:
  - System.IDisposable
  inheritedMembers:
  - System.Object.Equals(System.Object)
  - System.Object.Equals(System.Object,System.Object)
  - System.Object.GetHashCode
  - System.Object.GetType
  - System.Object.MemberwiseClone
  - System.Object.ReferenceEquals(System.Object,System.Object)
  - System.Object.ToString
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.#ctor(System.Int32)
  id: '#ctor(System.Int32)'
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: SemaphoreSlim(Int32)
  nameWithType: SemaphoreSlim.SemaphoreSlim(Int32)
  fullName: System.Threading.SemaphoreSlim.SemaphoreSlim(Int32)
  type: Constructor
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Initializes a new instance of the <xref href="System.Threading.SemaphoreSlim"></xref> class, specifying the initial number of requests that can be granted concurrently.
  remarks: The `initialCount` parameter defines the number of concurrent requests to enter the semaphore that can be granted. However, it doesn’t define the maximum number of requests that can be granted concurrently. A   <xref:System.Threading.SemaphoreSlim> object instantiated by calling this constructor doesn’t throw a <xref:System.Threading.SemaphoreFullException> exception if a call to the <xref:System.Threading.SemaphoreSlim.Release%2A> method increases the value of the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property beyond `initialCount`. This occurs if there are more calls to <xref:System.Threading.SemaphoreSlim.Release%2A> methods than there are to <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> methods. To set the maximum number of concurrent requests to enter the semaphore that can be granted, call the <xref:System.Threading.SemaphoreSlim.%23ctor%28System.Int32%2CSystem.Int32%29> constructor.
  syntax:
    content: public SemaphoreSlim (int initialCount);
    parameters:
    - id: initialCount
      type: System.Int32
      description: The initial number of requests for the semaphore that can be granted concurrently.
  overload: System.Threading.SemaphoreSlim.#ctor*
  exceptions:
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>initialCount</code> is less than 0.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.#ctor(System.Int32,System.Int32)
  id: '#ctor(System.Int32,System.Int32)'
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: SemaphoreSlim(Int32,Int32)
  nameWithType: SemaphoreSlim.SemaphoreSlim(Int32,Int32)
  fullName: System.Threading.SemaphoreSlim.SemaphoreSlim(Int32,Int32)
  type: Constructor
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Initializes a new instance of the <xref href="System.Threading.SemaphoreSlim"></xref> class, specifying the initial and maximum number of requests that can be granted concurrently.
  syntax:
    content: public SemaphoreSlim (int initialCount, int maxCount);
    parameters:
    - id: initialCount
      type: System.Int32
      description: The initial number of requests for the semaphore that can be granted concurrently.
    - id: maxCount
      type: System.Int32
      description: The maximum number of requests for the semaphore that can be granted concurrently.
  overload: System.Threading.SemaphoreSlim.#ctor*
  exceptions:
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>initialCount</code> is less than 0, or <code>initialCount</code> is greater than <code>maxCount</code>, or <code>maxCount</code> is equal to or less than 0.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.AvailableWaitHandle
  id: AvailableWaitHandle
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: AvailableWaitHandle
  nameWithType: SemaphoreSlim.AvailableWaitHandle
  fullName: System.Threading.SemaphoreSlim.AvailableWaitHandle
  type: Property
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Returns a <xref href="System.Threading.WaitHandle"></xref> that can be used to wait on the semaphore.
  remarks: Use this property only when you must wait on a SemaphoreSlim together with other kernel-based synchronization objects with the same wait handle. A successful wait on the AvailableWaitHandle does not imply a successful wait on the <xref:System.Threading.SemaphoreSlim> itself, nor does it decrement the semaphore's count. After the available wait handle is signaled, you should wait on the <xref:System.Threading.SemaphoreSlim> specifically.
  syntax:
    content: public System.Threading.WaitHandle AvailableWaitHandle { get; }
    return:
      type: System.Threading.WaitHandle
      description: A <xref href="System.Threading.WaitHandle"></xref> that can be used to wait on the semaphore.
  overload: System.Threading.SemaphoreSlim.AvailableWaitHandle*
  exceptions:
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The <xref href="System.Threading.SemaphoreSlim"></xref> has been disposed.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.CurrentCount
  id: CurrentCount
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: CurrentCount
  nameWithType: SemaphoreSlim.CurrentCount
  fullName: System.Threading.SemaphoreSlim.CurrentCount
  type: Property
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Gets the number of remaining threads that can enter the <xref href="System.Threading.SemaphoreSlim"></xref> object.
  remarks: The initial value of the CurrentCount property is set by the call to the <xref:System.Threading.SemaphoreSlim.%23ctor%2A> class constructor. It is decremented by each call to the <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> method, and incremented by each call to the <xref:System.Threading.SemaphoreSlim.Release%2A> method.
  syntax:
    content: public int CurrentCount { get; }
    return:
      type: System.Int32
      description: The number of remaining threads that can enter the semaphore.
  overload: System.Threading.SemaphoreSlim.CurrentCount*
  exceptions: []
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Dispose
  id: Dispose
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Dispose()
  nameWithType: SemaphoreSlim.Dispose()
  fullName: System.Threading.SemaphoreSlim.Dispose()
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Releases all resources used by the current instance of the <xref href="System.Threading.SemaphoreSlim"></xref> class.
  remarks: "Call `Dispose` when you are finished using the <xref:System.Threading.SemaphoreSlim>. The `Dispose` method leaves the <xref:System.Threading.SemaphoreSlim> in an unusable state. After calling `Dispose`, you must release all references to the <xref:System.Threading.SemaphoreSlim> so the garbage collector can reclaim the memory that the <xref:System.Threading.SemaphoreSlim> was occupying.  \n  \n For more information, see [Cleaning Up Unmanaged Resources](~/add/includes/ajax-current-ext-md.md) and [Implementing a Dispose Method](~/add/includes/ajax-current-ext-md.md).  \n  \n> [!NOTE]\n>  Always call `Dispose` before you release your last reference to the <xref:System.Threading.SemaphoreSlim>. Otherwise, the resources it is using will not be freed until the garbage collector calls the <xref:System.Threading.SemaphoreSlim> object's `Finalize` method."
  syntax:
    content: public void Dispose ();
    parameters: []
  overload: System.Threading.SemaphoreSlim.Dispose*
  exceptions: []
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Dispose(System.Boolean)
  id: Dispose(System.Boolean)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Dispose(Boolean)
  nameWithType: SemaphoreSlim.Dispose(Boolean)
  fullName: System.Threading.SemaphoreSlim.Dispose(Boolean)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Releases the unmanaged resources used by the <xref href="System.Threading.SemaphoreSlim"></xref>, and optionally releases the managed resources.
  remarks: Unlike most of the members of <xref:System.Threading.SemaphoreSlim>, Dispose is not thread-safe and may not be used concurrently with other members of this instance.
  syntax:
    content: protected virtual void Dispose (bool disposing);
    parameters:
    - id: disposing
      type: System.Boolean
      description: '`true` to release both managed and unmanaged resources; `false` to release only unmanaged resources.'
  overload: System.Threading.SemaphoreSlim.Dispose*
  exceptions: []
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Release
  id: Release
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Release()
  nameWithType: SemaphoreSlim.Release()
  fullName: System.Threading.SemaphoreSlim.Release()
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Releases the <xref href="System.Threading.SemaphoreSlim"></xref> object once.
  remarks: A call to the Release method increments the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one. If the value of the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property is zero before this method is called, the method also allows one thread or task blocked by a call to the <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> method to enter the semaphore.
  syntax:
    content: public int Release ();
    parameters: []
    return:
      type: System.Int32
      description: The previous count of the <xref href="System.Threading.SemaphoreSlim"></xref>.
  overload: System.Threading.SemaphoreSlim.Release*
  exceptions:
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The current instance has already been disposed.
  - type: System.Threading.SemaphoreFullException
    commentId: T:System.Threading.SemaphoreFullException
    description: The <xref href="System.Threading.SemaphoreSlim"></xref> has already reached its maximum size.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Release(System.Int32)
  id: Release(System.Int32)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Release(Int32)
  nameWithType: SemaphoreSlim.Release(Int32)
  fullName: System.Threading.SemaphoreSlim.Release(Int32)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Releases the <xref href="System.Threading.SemaphoreSlim"></xref> object a specified number of times.
  remarks: A call to the Release method increments the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by `releaseCount`. If the value of the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property is zero before this method is called, the method also allows `releaseCount` threads or tasks blocked by a call to the <xref:System.Threading.SemaphoreSlim.Wait%2A> or <xref:System.Threading.SemaphoreSlim.WaitAsync%2A> method to enter the semaphore.
  syntax:
    content: public int Release (int releaseCount);
    parameters:
    - id: releaseCount
      type: System.Int32
      description: The number of times to exit the semaphore.
    return:
      type: System.Int32
      description: The previous count of the <xref href="System.Threading.SemaphoreSlim"></xref>.
  overload: System.Threading.SemaphoreSlim.Release*
  exceptions:
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The current instance has already been disposed.
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>releaseCount</code> is less than 1.
  - type: System.Threading.SemaphoreFullException
    commentId: T:System.Threading.SemaphoreFullException
    description: The <xref href="System.Threading.SemaphoreSlim"></xref> has already reached its maximum size.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait
  id: Wait
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait()
  nameWithType: SemaphoreSlim.Wait()
  fullName: System.Threading.SemaphoreSlim.Wait()
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>.
  remarks: If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.
  syntax:
    content: public void Wait ();
    parameters: []
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The current instance has already been disposed.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait(System.Int32)
  id: Wait(System.Int32)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait(Int32)
  nameWithType: SemaphoreSlim.Wait(Int32)
  fullName: System.Threading.SemaphoreSlim.Wait(Int32)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>, using a 32-bit signed integer that specifies the timeout.
  remarks: "If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.  \n  \n If a thread or task is blocked when calling Wait, and the time-out interval specified by `millisecondsTimeout` expires, the thread or task doesn’t enter the semaphore, and the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property isn’t decremented."
  syntax:
    content: public bool Wait (int millisecondsTimeout);
    parameters:
    - id: millisecondsTimeout
      type: System.Int32
      description: The number of milliseconds to wait, or <xref href="System.Threading.Timeout.Infinite"></xref>(~/add/includes/ajax-current-ext-md.md) to wait indefinitely.
    return:
      type: System.Boolean
      description: '`true` if the current thread successfully entered the <xref href="System.Threading.SemaphoreSlim"></xref>; otherwise, `false`.'
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>millisecondsTimeout</code> is a negative number other than -1, which represents an infinite time-out.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait(System.Threading.CancellationToken)
  id: Wait(System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait(CancellationToken)
  nameWithType: SemaphoreSlim.Wait(CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(CancellationToken)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>, while observing a <xref href="System.Threading.CancellationToken"></xref>.
  remarks: "If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.  \n  \n If `cancellationToken` is cancelled, the thread or task doesn’t enter the semaphore, and the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property isn’t decremented. Instead, the method throws an <xref:System.OperationCanceledException> exception."
  syntax:
    content: public void Wait (System.Threading.CancellationToken cancellationToken);
    parameters:
    - id: cancellationToken
      type: System.Threading.CancellationToken
      description: The <xref href="System.Threading.CancellationToken"></xref> token to observe.
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.OperationCanceledException
    commentId: T:System.OperationCanceledException
    description: <code>cancellationToken</code> was canceled.
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: "The current instance has already been disposed.  \n  \n -or-  \n  \n The <xref href=\"System.Threading.CancellationTokenSource\"></xref> that created<code> cancellationToken</code> has already been disposed."
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait(System.TimeSpan)
  id: Wait(System.TimeSpan)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait(TimeSpan)
  nameWithType: SemaphoreSlim.Wait(TimeSpan)
  fullName: System.Threading.SemaphoreSlim.Wait(TimeSpan)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>, using a <xref href="System.TimeSpan"></xref> to specify the timeout.
  remarks: "If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.  \n  \n If a thread or task is blocked when calling Wait and the time-out interval specified by `timeout` expires, the thread or task doesn’t enter the semaphore, and the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property isn’t decremented."
  syntax:
    content: public bool Wait (TimeSpan timeout);
    parameters:
    - id: timeout
      type: System.TimeSpan
      description: A <xref href="System.TimeSpan"></xref> that represents the number of milliseconds to wait, or a <xref href="System.TimeSpan"></xref> that represents -1 milliseconds to wait indefinitely.
    return:
      type: System.Boolean
      description: '`true` if the current thread successfully entered the <xref href="System.Threading.SemaphoreSlim"></xref>; otherwise, `false`.'
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>timeout</code> is a negative number other than -1 milliseconds, which represents an infinite time-out -or- timeout is greater than <xref href="System.Int32.MaxValue"></xref>.
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The semaphoreSlim instance has been disposed<code>.</code>
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait(System.Int32,System.Threading.CancellationToken)
  id: Wait(System.Int32,System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait(Int32,CancellationToken)
  nameWithType: SemaphoreSlim.Wait(Int32,CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(Int32,CancellationToken)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>, using a 32-bit signed integer that specifies the timeout, while observing a <xref href="System.Threading.CancellationToken"></xref>.
  remarks: "If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.  \n  \n If `cancellationToken` is cancelled, or if a thread or task is blocked when calling Wait and the time-out interval specified by `millisecondsTimeout` expires, the thread or task doesn’t enter the semaphore, and the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property isn’t decremented. If `cancellationToken` is cancelled, the method throws an   <xref:System.OperationCanceledException> exception."
  syntax:
    content: public bool Wait (int millisecondsTimeout, System.Threading.CancellationToken cancellationToken);
    parameters:
    - id: millisecondsTimeout
      type: System.Int32
      description: The number of milliseconds to wait, or <xref href="System.Threading.Timeout.Infinite"></xref>(~/add/includes/ajax-current-ext-md.md) to wait indefinitely.
    - id: cancellationToken
      type: System.Threading.CancellationToken
      description: The <xref href="System.Threading.CancellationToken"></xref> to observe.
    return:
      type: System.Boolean
      description: '`true` if the current thread successfully entered the <xref href="System.Threading.SemaphoreSlim"></xref>; otherwise, `false`.'
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.OperationCanceledException
    commentId: T:System.OperationCanceledException
    description: <code>cancellationToken</code> was canceled.
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>millisecondsTimeout</code> is a negative number other than -1, which represents an infinite time-out.
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: The <xref href="System.Threading.SemaphoreSlim"></xref> instance has been disposed, or the <xref href="System.Threading.CancellationTokenSource"></xref> that created <code>cancellationToken</code> has been disposed.
  version:
  - netframework-40
- uid: System.Threading.SemaphoreSlim.Wait(System.TimeSpan,System.Threading.CancellationToken)
  id: Wait(System.TimeSpan,System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  langs:
  - csharp
  name: Wait(TimeSpan,CancellationToken)
  nameWithType: SemaphoreSlim.Wait(TimeSpan,CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(TimeSpan,CancellationToken)
  type: Method
  assemblies:
  - mscorlib
  namespace: System.Threading
  summary: Blocks the current thread until it can enter the <xref href="System.Threading.SemaphoreSlim"></xref>, using a <xref href="System.TimeSpan"></xref> that specifies the timeout, while observing a <xref href="System.Threading.CancellationToken"></xref>.
  remarks: "If a thread or task is able to enter the semaphore, it decrements the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property by one.  \n  \n If `cancellationToken` is cancelled, or if a thread or task is blocked when calling Wait and the timeout interval specified by `timeout` expires, the thread or task doesn’t enter the semaphore, and the <xref:System.Threading.SemaphoreSlim.CurrentCount%2A> property isn’t decremented. If `cancellationToken` is cancelled, the method throws an <xref:System.OperationCanceledException> exception."
  syntax:
    content: public bool Wait (TimeSpan timeout, System.Threading.CancellationToken cancellationToken);
    parameters:
    - id: timeout
      type: System.TimeSpan
      description: A <xref href="System.TimeSpan"></xref> that represents the number of milliseconds to wait, or a <xref href="System.TimeSpan"></xref> that represents -1 milliseconds to wait indefinitely.
    - id: cancellationToken
      type: System.Threading.CancellationToken
      description: The <xref href="System.Threading.CancellationToken"></xref> to observe.
    return:
      type: System.Boolean
      description: '`true` if the current thread successfully entered the <xref href="System.Threading.SemaphoreSlim"></xref>; otherwise, `false`.'
  overload: System.Threading.SemaphoreSlim.Wait*
  exceptions:
  - type: System.OperationCanceledException
    commentId: T:System.OperationCanceledException
    description: <code>cancellationToken</code> was canceled.
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: <code>timeout</code> is a negative number other than -1 milliseconds, which represents an infinite time-out -or- timeout is greater than <xref href="System.Int32.MaxValue"></xref>.
  - type: System.ObjectDisposedException
    commentId: T:System.ObjectDisposedException
    description: "The semaphoreSlim instance has been disposed<code>.</code><code>-or-</code>  \n  \n The <xref href=\"System.Threading.CancellationTokenSource\"></xref> that created <code>cancellationToken</code> has already been disposed."
  version:
  - netframework-40
references:
- uid: System.Object
  isExternal: false
  name: System.Object
- uid: System.ArgumentOutOfRangeException
  parent: System
  isExternal: false
  name: ArgumentOutOfRangeException
  nameWithType: ArgumentOutOfRangeException
  fullName: System.ArgumentOutOfRangeException
- uid: System.ObjectDisposedException
  parent: System
  isExternal: false
  name: ObjectDisposedException
  nameWithType: ObjectDisposedException
  fullName: System.ObjectDisposedException
- uid: System.Threading.SemaphoreFullException
  isExternal: true
  name: System.Threading.SemaphoreFullException
- uid: System.OperationCanceledException
  parent: System
  isExternal: false
  name: OperationCanceledException
  nameWithType: OperationCanceledException
  fullName: System.OperationCanceledException
- uid: System.Threading.SemaphoreSlim.#ctor(System.Int32)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: SemaphoreSlim(Int32)
  nameWithType: SemaphoreSlim.SemaphoreSlim(Int32)
  fullName: System.Threading.SemaphoreSlim.SemaphoreSlim(Int32)
- uid: System.Int32
  parent: System
  isExternal: false
  name: Int32
  nameWithType: Int32
  fullName: System.Int32
- uid: System.Threading.SemaphoreSlim.#ctor(System.Int32,System.Int32)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: SemaphoreSlim(Int32,Int32)
  nameWithType: SemaphoreSlim.SemaphoreSlim(Int32,Int32)
  fullName: System.Threading.SemaphoreSlim.SemaphoreSlim(Int32,Int32)
- uid: System.Threading.SemaphoreSlim.AvailableWaitHandle
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: AvailableWaitHandle
  nameWithType: SemaphoreSlim.AvailableWaitHandle
  fullName: System.Threading.SemaphoreSlim.AvailableWaitHandle
- uid: System.Threading.WaitHandle
  parent: System.Threading
  isExternal: false
  name: WaitHandle
  nameWithType: WaitHandle
  fullName: System.Threading.WaitHandle
- uid: System.Threading.SemaphoreSlim.CurrentCount
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: CurrentCount
  nameWithType: SemaphoreSlim.CurrentCount
  fullName: System.Threading.SemaphoreSlim.CurrentCount
- uid: System.Threading.SemaphoreSlim.Dispose
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Dispose()
  nameWithType: SemaphoreSlim.Dispose()
  fullName: System.Threading.SemaphoreSlim.Dispose()
- uid: System.Threading.SemaphoreSlim.Dispose(System.Boolean)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Dispose(Boolean)
  nameWithType: SemaphoreSlim.Dispose(Boolean)
  fullName: System.Threading.SemaphoreSlim.Dispose(Boolean)
- uid: System.Boolean
  parent: System
  isExternal: false
  name: Boolean
  nameWithType: Boolean
  fullName: System.Boolean
- uid: System.Threading.SemaphoreSlim.Release
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Release()
  nameWithType: SemaphoreSlim.Release()
  fullName: System.Threading.SemaphoreSlim.Release()
- uid: System.Threading.SemaphoreSlim.Release(System.Int32)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Release(Int32)
  nameWithType: SemaphoreSlim.Release(Int32)
  fullName: System.Threading.SemaphoreSlim.Release(Int32)
- uid: System.Threading.SemaphoreSlim.Wait
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait()
  nameWithType: SemaphoreSlim.Wait()
  fullName: System.Threading.SemaphoreSlim.Wait()
- uid: System.Threading.SemaphoreSlim.Wait(System.Int32)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait(Int32)
  nameWithType: SemaphoreSlim.Wait(Int32)
  fullName: System.Threading.SemaphoreSlim.Wait(Int32)
- uid: System.Threading.SemaphoreSlim.Wait(System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait(CancellationToken)
  nameWithType: SemaphoreSlim.Wait(CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(CancellationToken)
- uid: System.Threading.CancellationToken
  parent: System.Threading
  isExternal: false
  name: CancellationToken
  nameWithType: CancellationToken
  fullName: System.Threading.CancellationToken
- uid: System.Threading.SemaphoreSlim.Wait(System.TimeSpan)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait(TimeSpan)
  nameWithType: SemaphoreSlim.Wait(TimeSpan)
  fullName: System.Threading.SemaphoreSlim.Wait(TimeSpan)
- uid: System.TimeSpan
  parent: System
  isExternal: false
  name: TimeSpan
  nameWithType: TimeSpan
  fullName: System.TimeSpan
- uid: System.Threading.SemaphoreSlim.Wait(System.Int32,System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait(Int32,CancellationToken)
  nameWithType: SemaphoreSlim.Wait(Int32,CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(Int32,CancellationToken)
- uid: System.Threading.SemaphoreSlim.Wait(System.TimeSpan,System.Threading.CancellationToken)
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait(TimeSpan,CancellationToken)
  nameWithType: SemaphoreSlim.Wait(TimeSpan,CancellationToken)
  fullName: System.Threading.SemaphoreSlim.Wait(TimeSpan,CancellationToken)
- uid: System.Threading.SemaphoreSlim.#ctor*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: SemaphoreSlim
  nameWithType: SemaphoreSlim.SemaphoreSlim
- uid: System.Threading.SemaphoreSlim.AvailableWaitHandle*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: AvailableWaitHandle
  nameWithType: SemaphoreSlim.AvailableWaitHandle
- uid: System.Threading.SemaphoreSlim.CurrentCount*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: CurrentCount
  nameWithType: SemaphoreSlim.CurrentCount
- uid: System.Threading.SemaphoreSlim.Dispose*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Dispose
  nameWithType: SemaphoreSlim.Dispose
- uid: System.Threading.SemaphoreSlim.Release*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Release
  nameWithType: SemaphoreSlim.Release
- uid: System.Threading.SemaphoreSlim.Wait*
  parent: System.Threading.SemaphoreSlim
  isExternal: false
  name: Wait
  nameWithType: SemaphoreSlim.Wait
